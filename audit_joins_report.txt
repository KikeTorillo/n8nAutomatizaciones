ğŸ“Š CONFIGURACIÃ“N DE AUDITORÃA
============================
Directorios escaneados:
  - backend/app/templates/scheduling-saas/models
  - backend/app/templates/scheduling-saas/controllers

MÃ³dulos configurados:
  [agendamiento] profesionales|servicios|clientes|horarios_profesionales|citas|citas_servicios|bloqueos_horarios
  [comisiones] configuracion_comisiones|comisiones_profesionales|historial_comisiones
  [inventario] productos|categorias_productos|proveedores|movimientos_inventario|inventario_actual|alertas_stock
  [pos] ventas_pos|ventas_pos_items
  [core] organizaciones|usuarios|planes_subscripcion|subscripciones
  [marketplace] perfiles_marketplace|reseÃ±as_marketplace|analytics_marketplace|categorias_marketplace

ğŸ” PASO 1: Buscando JOINs en archivos...

âœ… Encontrados 114 JOINs totales

ğŸ“‹ PASO 2: Analizando JOINs multi-mÃ³dulo...

ğŸ“„ PASO 3: Generando reporte detallado...

============================================================================
REPORTE DE DEPENDENCIAS SQL ENTRE MÃ“DULOS
============================================================================
Fecha: 2025-11-23 20:39:35

ğŸ“Š RESUMEN DE DEPENDENCIAS ENTRE MÃ“DULOS
=========================================

âš ï¸  core -> agendamiento: 5 JOINs
âš ï¸  pos -> inventario: 1 JOINs
âš ï¸  marketplace -> agendamiento: 4 JOINs
âš ï¸  comisiones -> agendamiento: 18 JOINs
âš ï¸  pos -> agendamiento: 6 JOINs

TOTAL JOINS CROSS-MODULE: 34

ğŸ“‹ DETALLE DE CADA DEPENDENCIA
===============================

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”— DEPENDENCIA: core -> agendamiento
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[backend/app/templates/scheduling-saas/models/disponibilidad.model.js:286] JOIN clientes
[backend/app/templates/scheduling-saas/models/bloqueos-horarios.model.js:50] JOIN clientes
[backend/app/templates/scheduling-saas/models/bloqueos-horarios.model.js:288] JOIN profesionales
[backend/app/templates/scheduling-saas/models/bloqueos-horarios.model.js:289] JOIN servicios
[backend/app/templates/scheduling-saas/models/bloqueos-horarios.model.js:393] JOIN clientes

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”— DEPENDENCIA: pos -> inventario
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[backend/app/templates/scheduling-saas/models/pos/ventas.model.js:325] JOIN productos

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”— DEPENDENCIA: marketplace -> agendamiento
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[backend/app/templates/scheduling-saas/models/marketplace/reseÃ±as.model.js:210] JOIN clientes
[backend/app/templates/scheduling-saas/models/marketplace/reseÃ±as.model.js:211] JOIN profesionales
[backend/app/templates/scheduling-saas/models/marketplace/reseÃ±as.model.js:257] JOIN clientes
[backend/app/templates/scheduling-saas/models/marketplace/reseÃ±as.model.js:258] JOIN profesionales

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”— DEPENDENCIA: comisiones -> agendamiento
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:70] JOIN profesionales
[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:71] JOIN citas
[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:72] JOIN clientes
[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:151] JOIN profesionales
[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:152] JOIN citas
[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:153] JOIN clientes
[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:318] JOIN profesionales
[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:319] JOIN citas
[backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js:320] JOIN clientes
[backend/app/templates/scheduling-saas/models/comisiones/configuracion.model.js:163] JOIN profesionales
[backend/app/templates/scheduling-saas/models/comisiones/configuracion.model.js:164] JOIN servicios
[backend/app/templates/scheduling-saas/models/comisiones/configuracion.model.js:193] JOIN profesionales
[backend/app/templates/scheduling-saas/models/comisiones/configuracion.model.js:194] JOIN servicios
[backend/app/templates/scheduling-saas/models/comisiones/configuracion.model.js:271] JOIN profesionales
[backend/app/templates/scheduling-saas/models/comisiones/configuracion.model.js:272] JOIN servicios
[backend/app/templates/scheduling-saas/models/comisiones/reportes.model.js:326] JOIN citas
[backend/app/templates/scheduling-saas/models/comisiones/reportes.model.js:327] JOIN profesionales
[backend/app/templates/scheduling-saas/models/comisiones/reportes.model.js:328] JOIN clientes

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”— DEPENDENCIA: pos -> agendamiento
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[backend/app/templates/scheduling-saas/models/pos/ventas.model.js:303] JOIN clientes
[backend/app/templates/scheduling-saas/models/pos/ventas.model.js:304] JOIN profesionales
[backend/app/templates/scheduling-saas/models/pos/ventas.model.js:413] JOIN clientes
[backend/app/templates/scheduling-saas/models/pos/ventas.model.js:414] JOIN profesionales
[backend/app/templates/scheduling-saas/models/pos/reportes.model.js:137] JOIN clientes
[backend/app/templates/scheduling-saas/models/pos/reportes.model.js:138] JOIN profesionales

ğŸ“ ARCHIVOS MÃS AFECTADOS (Top 10)
===================================

9 backend/app/templates/scheduling-saas/models/comisiones/comisiones.model.js
6 backend/app/templates/scheduling-saas/models/comisiones/configuracion.model.js
5 backend/app/templates/scheduling-saas/models/pos/ventas.model.js
4 backend/app/templates/scheduling-saas/models/marketplace/reseÃ±as.model.js
4 backend/app/templates/scheduling-saas/models/bloqueos-horarios.model.js
3 backend/app/templates/scheduling-saas/models/comisiones/reportes.model.js
2 backend/app/templates/scheduling-saas/models/pos/reportes.model.js
1 backend/app/templates/scheduling-saas/models/disponibilidad.model.js

ğŸ’¡ RECOMENDACIONES
==================

1. QUERIES CONDICIONALES: Implementar construcciÃ³n dinÃ¡mica de JOINs
   basados en mÃ³dulos activos para TODAS las dependencias identificadas.

2. PRIORIZACIÃ“N:
   ğŸ”´ CRÃTICO: POS â†’ Agendamiento (clientes, profesionales)
   ğŸ”´ CRÃTICO: POS â†’ Inventario (productos) [FK HARD]
   ğŸŸ¡ IMPORTANTE: Marketplace â†’ Agendamiento (profesionales, servicios)
   ğŸŸ¡ IMPORTANTE: Comisiones â†’ Agendamiento (citas, profesionales)

3. TIEMPO ESTIMADO:
   - AnÃ¡lisis detallado: 2 horas
   - ImplementaciÃ³n queries condicionales: 6 - 11 horas
   - Testing: 4 horas
   - TOTAL: 12 - 17 horas

