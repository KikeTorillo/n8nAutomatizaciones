meta {
  name: 5. Verificar Configuración Completa
  type: http
  seq: 5
}

get {
  url: {{baseUrl}}/api/{{apiVersion}}/organizaciones/{{organizacionId}}
  body: none
  auth: bearer
}

auth:bearer {
  token: {{token}}
}

tests {
  test("Status 200 OK", function() {
    expect(res.status).to.equal(200);
  });

  test("Organización está activa", function() {
    expect(res.body.data.activo).to.equal(true);
    expect(res.body.data.suspendido).to.equal(false);
  });

  test("Configuración básica completa", function() {
    const org = res.body.data;

    expect(org).to.have.property("nombre_comercial");
    expect(org).to.have.property("tipo_industria");
    expect(org).to.have.property("plan_actual");

    console.log("═══════════════════════════════════════════");
    console.log("  ✅ CONFIGURACIÓN INICIAL COMPLETA");
    console.log("═══════════════════════════════════════════");
    console.log(`  Organización: ${org.nombre_comercial}`);
    console.log(`  Industria: ${org.tipo_industria}`);
    console.log(`  Plan: ${org.plan_actual}`);
    console.log(`  Estado: ${org.activo ? 'ACTIVA' : 'INACTIVA'}`);
    console.log("");
    console.log("  📋 Setup completado:");
    console.log("  ✅ Profesional creado");
    console.log("  ✅ Servicios configurados");
    console.log("  ✅ Horarios definidos");
    console.log("");
    console.log("  🎯 Próximo paso: Agendamiento Manual");
    console.log("═══════════════════════════════════════════");
  });
}

docs {
  # Paso 5: Verificar Configuración Completa

  Validamos que la organización está 100% lista para empezar a operar.

  ## ✅ Checklist de configuración inicial:

  - [x] Organización creada y activa
  - [x] Usuario administrador registrado
  - [x] Primer profesional agregado
  - [x] Servicios configurados (plantilla o personalizados)
  - [x] Horarios de atención definidos

  ## Estado esperado:

  ```json
  {
    "activo": true,
    "suspendido": false,
    "plan_actual": "basico",
    "tipo_industria": "barberia"
  }
  ```

  ## Si todo está correcto:

  🎉 **¡Felicitaciones!** Tu organización está lista para recibir citas.

  ## Próximos pasos:

  1. **Flujo 3: Catálogo de Servicios** - Gestionar profesionales y servicios
  2. **Flujo 4: Agendamiento Manual** - Crear tu primera cita
  3. **Flujo 5: Agendamiento IA WhatsApp** - Automatizar con IA conversacional

  ## Nota:
  Este request sirve como validación final del setup wizard. En un frontend, aquí mostrarías un mensaje de éxito y redirigirías al dashboard principal.
}
