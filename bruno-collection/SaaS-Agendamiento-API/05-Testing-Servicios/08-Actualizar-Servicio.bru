meta {
  name: 08-Actualizar-Servicio
  type: http
  seq: 8
}

put {
  url: {{baseUrl}}/api/{{apiVersion}}/servicios/{{servicioId}}?organizacion_id={{organizacionId}}
  body: json
  auth: bearer
}

params:query {
  organizacion_id: {{organizacionId}}
}

auth:bearer {
  token: {{accessToken}}
}

body:json {
  {
    "precio": 28.00,
    "descripcion": "Corte de cabello premium actualizado con técnicas modernas y productos de alta calidad",
    "tags": ["popular", "premium", "completo", "actualizado"],
    "configuracion_especifica": {
      "incluye_lavado": true,
      "incluye_secado": true,
      "productos_premium": true,
      "tecnicas_modernas": true,
      "garantia_satisfaccion": true
    }
  }
}

assert {
  res.status: eq 200
  res.body.success: eq true
  res.body.data.id: eq {{servicioId}}
  res.body.data.precio: eq 28
  res.body.data.tags: contains "actualizado"
}

script:post-response {
  if (res.body.success) {
    console.log("✅ Servicio actualizado exitosamente");
    console.log("ID:", res.body.data.id);
    console.log("Precio actualizado:", res.body.data.precio);
    console.log("Nuevos tags:", res.body.data.tags);
    console.log("Configuración actualizada:", JSON.stringify(res.body.data.configuracion_especifica));
  }
}