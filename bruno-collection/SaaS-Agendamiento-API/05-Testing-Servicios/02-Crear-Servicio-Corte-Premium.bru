meta {
  name: 02-Crear-Servicio-Corte-Premium
  type: http
  seq: 2
}

post {
  url: {{baseUrl}}/api/{{apiVersion}}/servicios
  body: json
  auth: bearer
}

auth:bearer {
  token: {{accessToken}}
}

body:json {
  {
    "nombre": "Corte de Cabello Premium",
    "descripcion": "Corte de cabello profesional con lavado y secado incluido",
    "categoria": "corte",
    "subcategoria": "premium",
    "duracion_minutos": 45,
    "precio": 25.00,
    "precio_minimo": 20.00,
    "precio_maximo": 30.00,
    "requiere_preparacion_minutos": 5,
    "tiempo_limpieza_minutos": 10,
    "max_clientes_simultaneos": 1,
    "color_servicio": "#2c3e50",
    "configuracion_especifica": {
      "incluye_lavado": true,
      "incluye_secado": true,
      "productos_premium": true
    },
    "tags": ["popular", "premium", "completo"],
    "activo": true
  }
}

assert {
  res.status: eq 201
  res.body.success: eq true
  res.body.data.nombre: eq "Corte de Cabello Premium"
  res.body.data.precio: eq 25
  res.body.data.duracion_minutos: eq 45
  res.body.data.id: isDefined
}

script:post-response {
  if (res.body.success) {
    bru.setEnvVar("servicioId", res.body.data.id);
    console.log("âœ… Servicio creado con ID:", res.body.data.id);
    console.log("Nombre:", res.body.data.nombre);
    console.log("Precio:", res.body.data.precio);
  }
}