meta {
  name: 07-Buscar-Servicios-FullText
  type: http
  seq: 7
}

get {
  url: {{baseUrl}}/api/{{apiVersion}}/servicios/buscar?termino=corte&limite=5&solo_activos=true&organizacion_id={{organizacionId}}
  body: none
  auth: bearer
}

params:query {
  termino: corte
  limite: 5
  solo_activos: true
  organizacion_id: {{organizacionId}}
}

auth:bearer {
  token: {{accessToken}}
}

assert {
  res.status: eq 200
  res.body.success: eq true
  res.body.data: isArray
}

script:post-response {
  if (res.body.success) {
    console.log("✅ Búsqueda full-text exitosa");
    console.log("Término buscado: 'corte'");
    console.log("Resultados encontrados:", res.body.data.length);
    res.body.data.forEach((servicio, index) => {
      console.log(`  ${index + 1}. ${servicio.nombre} - Relevancia: ${servicio.relevancia}`);
    });
  }
}